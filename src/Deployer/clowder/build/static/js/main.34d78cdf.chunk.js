(this.webpackJsonpclowder=this.webpackJsonpclowder||[]).push([[0],{235:function(e,t){},485:function(e,t,a){e.exports=a(884)},55:function(e,t,a){"use strict";a.r(t);t.default={purr_org:"purrio",purr_env:"dev",aws_project_region:"us-east-2",aws_cognito_region:"us-east-2",aws_appsync_region:"us-east-2",aws_appsync_authenticationType:"AWS_IAM",aws_cognito_identity_pool_id:"us-east-2:6a00851f-999f-4880-bf61-363737b3f6ea",aws_user_pools_id:"us-east-2_vwCiSr8wb",aws_user_pools_web_client_id:"2v75tgk3omtgif555hqf1u8bu8",aws_appsync_graphqlEndpoint:"https://6zdgoamierc2rjsjjjkcwetc3i.appsync-api.us-east-2.amazonaws.com/graphql",PURR_ACCESS_KEY_ID:"AKIAWKRWVEI3LNE34SEP",PURR_SECRET_ACCESS_KEY:"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",purr_queue_url:"https://sqs.us-east-2.amazonaws.com/434980069942/purrio-dev-Queue"}},792:function(e,t,a){var n=a(793),r=a(870),c=a(55).default;e.exports={hashify:function(e){var t=n.createHash("md5");return t.update(e.toLowerCase()),t.digest("hex")},stripToAlphaNum:function(e){return e.replace(/[^a-z0-9+]+/gi,"").toLowerCase()},assetLambdaName:function(e,t){var a=t.split("_").map((function(e){return e.toLowerCase().replace(/\w/,(function(e){return e.toUpperCase()}))})).join("");return"".concat(c.purr_org,"-").concat(c.purr_env,"-").concat({GEOGRAPHIX:"GGX",PETRA:"PET",KINGDOM:"TKS",PETREL:"PTL"}[e]).concat(a)},enqueueLambdaName:function(){return"".concat(c.purr_org,"-").concat(c.purr_env,"-Enqueue")},batcherLambdaName:function(){return"".concat(c.purr_org,"-").concat(c.purr_env,"-Batcher")},ggxDBConn:function(e){var t=e.aux,a=e.repo,n=a.replace(/\\/g,"/"),c=r.basename(r.dirname(n)),o=r.basename(n);return{params:{uid:"dba",pwd:"sql",dbf:r.join(a,"gxdb.db").replace(/\//g,"\\"),dbn:"".concat(o.replace(/ /g,"_"),"-").concat(c.replace(/ /g,"_")),host:t,server:"GGX_".concat(t.toUpperCase()),astart:"YES"},home:c,port:2638,proj:o}}}},794:function(e,t){},796:function(e,t){},827:function(e,t){},828:function(e,t){},884:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(98),o=a.n(c),u=a(16),l=a.n(u),i=a(23),s=a(87),p=a(84),m=a(110),d=a(114),b=a(920),f=a(929),h=(a(491),a(55)),E=function(e){return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})),r.a.createElement("h3",null,r.a.createElement("pre",null,"const config = ",JSON.stringify(h.default,null,2),r.a.createElement("br",null),"export default config"))},v=a(29),g=a(31),j=a(74),x=a(919),_=a(917),O=a(428),k=a(885),w=a(926),C=a(928),y=a(927),N=a(85),S=a(925),J=a(930),q=a(931),P=a(932),I=a(192),D=a(934),A=a(257),K=a(922),L=a(921),T=a(918),G=a(924),R=r.a.createContext(),B=function(e){var t=Object(n.useState)([]),a=Object(g.a)(t,2),c=a[0],o=a[1],u=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.graphql(Object(k.b)('query metaStuff {\n  __type(name: "Asset"){\n    enumValues {\n      name\n    }\n  }\n}'));case 3:t=e.sent,a=t.data.__type.enumValues.map((function(e){return{key:e.name,text:e.name,value:e.name}})),o(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),r.a.createElement(R.Provider,{value:c},e.children)},U=r.a.createContext(),H=function(e){return{geographix:{aux:{label:"server hostname",valueSetter:function(e){var t=e.match(/\\\\(.+?)\\/);return t?t[1]:"localhost"}},shortName:"GeoGraphix",longName:"GeoGraphix Discovery",icon:"home",formInstructions:"Enter path to a GeoGraphix project. This will usually be a UNC path."},kingdom:{aux:{label:"kingdom thing",valueSetter:function(e){return e}},shortName:"Kingdom",longName:"IHS Kingdom",icon:"home",formInstructions:"Enter path to a Kingdom Project folder. For SQL Server projects, enter the credentials."},petra:{aux:{label:"petra thing",valueSetter:function(e){return e}},shortName:"Petra",longName:"IHS Petra",icon:"home",formInstructions:"Enter a path for a Petra project. Yada yada yada."}}[e.toLowerCase()]},$=function(e){return r.a.createElement(U.Provider,{value:H},e.children)},F=function(e){var t={app:e.job.app,aux:e.job.aux,repo:e.job.repo,label:e.job.label,assets:e.job.assets},a=Object(n.useState)(!1),c=Object(g.a)(a,2),o=c[0],u=c[1],s=Object(n.useState)(t),p=Object(g.a)(s,2),m=p[0],d=p[1],b=Object(n.useContext)(R),f=Object(n.useContext)(U)(e.job.app),h=Object(A.b)({defaultValues:m}),E=h.control,v=h.register,j=h.handleSubmit,x=h.reset,O=h.setValue,k=(0,h.watch)("repo",e.repo),w=Object(A.a)({control:E,name:"assets"}),y=w.fields,S=w.append,J=w.remove;Object(n.useEffect)((function(){x(m)}),[m,x]);var q=function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(a),!e.job.id){t.next=6;break}return t.next=4,e.job.handleJobUpdate(a);case 4:t.next=8;break;case 6:return t.next=8,e.job.handleJobCreate(a);case 8:u(!o);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(K.a,{open:o,size:"large",trigger:r.a.createElement(C.a,{onClick:function(){u(!o)}},e.job.id?"Edit":"Create Job")},r.a.createElement(K.a.Header,null,r.a.createElement(N.a,{name:f.icon}),f.longName),r.a.createElement(K.a.Content,null,r.a.createElement(K.a.Description,null,f.formInstructions)),r.a.createElement(K.a.Content,null,r.a.createElement(L.a,{onSubmit:j(q)},r.a.createElement(L.a.Group,null,r.a.createElement("input",{name:"app",ref:v({}),value:e.job.app,hidden:!0,readOnly:!0}),r.a.createElement(L.a.Field,{width:8},r.a.createElement("label",null,"repo"),r.a.createElement("input",{name:"repo",ref:v({})})),r.a.createElement(L.a.Field,{width:4},r.a.createElement("label",null,f.aux.label),r.a.createElement("input",{name:"aux",ref:v({})}),O("aux",f.aux.valueSetter(k))),r.a.createElement(L.a.Field,{width:4},r.a.createElement("label",null,"label"),r.a.createElement("input",{name:"label",ref:v({})}))),r.a.createElement(_.a,{hidden:!0}),y.map((function(e,t){return r.a.createElement(T.a,{key:e.id,fluid:!0},r.a.createElement(L.a.Group,{widths:"equal"},r.a.createElement(L.a.Field,{width:3},0===t&&r.a.createElement("label",null,"asset"),r.a.createElement("select",{name:"assets[".concat(t,"].asset"),ref:v({}),defaultValue:e.asset},b.map((function(e){return r.a.createElement("option",{key:e.key},e.value)})))),r.a.createElement(L.a.Field,{width:4},0===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{trigger:r.a.createElement("label",null,"filter"),wide:"very"},"Insert some instructions for how to enter filter text")),r.a.createElement("input",{placeholder:"use commas to separate multiple items",name:"assets[".concat(t,"].filter"),ref:v({}),defaultValue:e.filter})),r.a.createElement(L.a.Field,{width:1},0===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{trigger:r.a.createElement("label",null,"chunk"),wide:"very"},"something about chunk size")),r.a.createElement("input",{placeholder:"chunk size",name:"assets[".concat(t,"].chunk"),ref:v({}),defaultValue:e.chunk})),r.a.createElement(L.a.Field,{width:3},0===t&&r.a.createElement("label",null,"\xa0"),r.a.createElement(C.a,{type:"button",disabled:y.length<2,onClick:function(){J(t)}},"Remove"),0===t&&r.a.createElement(C.a,{type:"button",floated:"right",onClick:function(){return S(t)}},"Add Another Asset"))))})),r.a.createElement(_.a,{hidden:!0}),r.a.createElement(C.a,{type:"submit"},"Save"),r.a.createElement(C.a,{onClick:function(){u(!o)}},"Cancel"))))},W="query ListNotesByPKey($id: ID) {\n  listNotesByPKey(id: $id) {\n    id\n    rk\n    cargo\n    modified\n  }\n}",z="subscription OnCreateNote {\n  onCreateNote {\n    id\n    rk\n    cargo\n    modified\n  }\n}",V=a(193),M=Object(n.createContext)(),X={},Y=function(e,t){switch(e[t.id]||(e[t.id]={itemCount:0,batchCount:0}),t.type){case"increment":return e[t.id]={itemCount:e[t.id].itemCount+t.itemCount,batchCount:e[t.id].batchCount+t.batchCount},Object(V.a)({},e);case"decrement":return e[t.id]={itemCount:e[t.id].itemCount-t.itemCount,batchCount:e[t.id].batchCount-t.batchCount},Object(V.a)({},e);case"reset":return e[t.id]={itemCount:0,batchCount:0},Object(V.a)({},e);default:throw new Error("Unhandled action type: ".concat(t.type))}},Q=function(e){var t=e.children,a=Object(n.useReducer)(Y,X),c=Object(g.a)(a,2),o=c[0],u=c[1];return r.a.createElement(M.Provider,{value:{state:o,dispatch:u}},t)},Z=function(){return Object(n.useContext)(M)},ee=function(e){return r.a.createElement(w.a,{fluid:!0},r.a.createElement(C.a,{onClick:function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.job.handleWorkerPing(a,e.job);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},"ping a worker"),r.a.createElement(C.a,{onClick:function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.job.handleNotesDelete(a,e.job);case 2:t.sent&&(e.setNotes([]),e.dispatch({id:e.job.id,type:"reset"}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},"clear messages"))},te=function(e){var t=0,a=0;return e.state&&(t=e.state.batchCount?e.state.batchCount:0,a=e.state.itemCount?e.state.itemCount:0),r.a.createElement(y.a,{icon:!0},r.a.createElement(N.a,{className:t+a>0?"loading":"",name:"circle notched"}),r.a.createElement(y.a.Content,null,r.a.createElement(y.a.Header,null,"Worker Progress"),r.a.createElement(S.a,null,r.a.createElement(S.a.Item,null,"Remaining Batches: ",t),r.a.createElement(S.a.Item,null,"Remaining Items: ",a))))},ae=function(e){return r.a.createElement(w.a,{fluid:!0},r.a.createElement(S.a,null,e.notes.sort((function(e,t){return e.rk<t.rk?1:-1})).map((function(e){return r.a.createElement(ne,{key:e.rk,note:e})}))))},ne=function(e){var t=JSON.parse(e.note.cargo),a=t.text;delete t.class,delete t.text;var n=JSON.stringify(t),c=t.error?r.a.createElement(J.a,{as:"h5",color:"red"},a,r.a.createElement(_.a,null),JSON.stringify(t.error,null,2)):r.a.createElement(J.a,{as:"h5"},r.a.createElement("code",null,a," | ",n));return r.a.createElement(S.a.Item,null,r.a.createElement(S.a.Content,null,r.a.createElement(S.a.Description,null,c)))},re=function(e){var t=Object(n.useState)([]),a=Object(g.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)(!1),s=Object(g.a)(u,2),p=s[0],m=s[1],d=Z(),b=d.state,f=d.dispatch;return Object(n.useEffect)((function(){(function(){var t=Object(i.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.graphql(Object(k.b)(W,{id:e.job.id}));case 2:a=t.sent,o(a.data.listNotesByPKey);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.job.id]),Object(n.useEffect)((function(){var t=O.a.graphql(Object(k.b)(z)).subscribe({next:function(t){var a=t.value.data.onCreateNote;a.id===e.job.id&&o((function(e){return[].concat(Object(v.a)(e),[a])}))}});return function(){return t.unsubscribe()}}),[e.job.id]),r.a.createElement(q.a,null,r.a.createElement(P.a,null,r.a.createElement(P.a.Row,null,r.a.createElement(P.a.Column,{width:11},r.a.createElement(S.a,{divided:!0,horizontal:!0,size:"huge"},r.a.createElement(S.a.Item,null,r.a.createElement("code",null,e.job.repo)),r.a.createElement(S.a.Item,null,r.a.createElement(I.a,{tag:!0},e.job.label)))),r.a.createElement(P.a.Column,{width:5},r.a.createElement(C.a.Group,{floated:"right"},r.a.createElement(C.a,{content:p?"Hide":"Reveal",onClick:function(){m(!p)}}),r.a.createElement(F,{job:e.job}),r.a.createElement(C.a,{onClick:function(t){e.job.handleJobDelete(t,e.job)}},"Delete"),r.a.createElement(C.a,null,"Schedule"),r.a.createElement(C.a,{onClick:function(t){e.job.handleEnqueue(t,e.job)}},"Enqueue")))),r.a.createElement(D.a,{visible:p,unmountOnHide:!0,animation:"fade",duration:200},r.a.createElement(P.a.Row,null,r.a.createElement(P.a.Column,{width:3},r.a.createElement(te,{state:b[e.job.id]}),r.a.createElement(ee,{job:e.job,setNotes:o,dispatch:f})),r.a.createElement(P.a.Column,{width:13,style:{maxHeight:200,overflow:"auto"}},r.a.createElement(ae,{notes:c}))))))},ce=a(467),oe=a.n(ce),ue=a(792),le=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.currentCredentials();case 2:return a=e.sent,(n=d.a.essentialCredentials(a)).region="us-east-2",e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r,c,o,u,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cred,n=t.name,r=t.args,c=new oe.a(a),o={FunctionName:n,Payload:JSON.stringify(r)},e.prev=3,e.next=6,c.invoke(o).promise();case 6:return u=e.sent,(i=JSON.parse(u.Payload)).lambda=n,e.abrupt("return",i);case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),se=function(e,t){e.preventDefault(),e.persist(),t?e.target.className+=" loading":e.target.className=e.target.className.replace(/ loading/g,"")},pe=function(e){return{id:ue.hashify("".concat(e.app,"_").concat(e.repo,"_").concat(e.label)),rk:ue.stripToAlphaNum(e.repo),app:e.app,assets:JSON.stringify(e.assets)||null,aux:e.aux||null,label:e.label||"unlabeled",repo:e.repo}},me=function(e){var t,a=[],n=Object(j.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,c={id:r.id,app:r.app,assets:JSON.parse(r.assets),aux:r.aux,label:r.label,repo:r.repo};a.push(je(c))}}catch(o){n.e(o)}finally{n.f()}return a},de=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=pe(t),e.next=4,O.a.graphql(Object(k.b)("mutation CreateJob($job: JobInput) {\n  createJob(job: $job) {\n    id\n    rk\n    app\n    assets\n    aux\n    label\n    repo\n  }\n}",{job:a}));case 4:return n=e.sent,e.abrupt("return",je(n.data.updateJob));case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=pe(t),e.next=4,O.a.graphql(Object(k.b)("mutation UpdateJob($job: JobInput) {\n  updateJob(job: $job) {\n    id\n    rk\n    app\n    assets\n    aux\n    label\n    repo\n  }\n}",{job:a}));case 4:return n=e.sent,e.abrupt("return",je(n.data.updateJob));case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,se(t,!0),n={id:a.id,rk:ue.stripToAlphaNum(a.repo)},e.next=5,O.a.graphql(Object(k.b)("mutation DeleteJob($pair: KeyPair) {\n  deleteJob(pair: $pair) {\n    id\n    rk\n  }\n}",{pair:n}));case 5:return e.next=7,he(t,a);case 7:se(t,!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),he=function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n,r,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,se(t,!0),e.next=4,O.a.graphql(Object(k.b)(W,{id:a.id}));case 4:if(!((n=e.sent).data.listNotesByPKey.length>0)){e.next=13;break}for(r=n.data.listNotesByPKey.map((function(e){return{id:e.id,rk:e.rk}})),c=[],o=0;o<r.length;o+=25)u=r.slice(o,o+25),c.push(O.a.graphql(Object(k.b)("mutation BatchDeleteNotes($pairs: [KeyPair]) {\n  batchDeleteNotes(pairs: $pairs) {\n    id\n    rk\n    cargo\n    modified\n  }\n}",{pairs:u})));return e.next=11,Promise.all(c);case 11:case 13:return se(t,!1),e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,a){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,se(t,!0),n=ue.enqueueLambdaName(),e.next=5,le();case 5:return r=e.sent,e.next=8,ie({cred:r,name:n,args:{a_purr_org:h.default.purr_org,a_purr_env:h.default.purr_env,r_app:"ping",m_job_id:a.id}});case 8:se(t,!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n,r,c,o,u,i,s,p,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,se(t,!0),n=ue.batcherLambdaName(),r=ue.enqueueLambdaName(),e.next=6,le();case 6:c=e.sent,o=ue.ggxDBConn({aux:a.aux,repo:a.repo}),u=Object(j.a)(a.assets),e.prev=9,u.s();case 11:if((i=u.n()).done){e.next=22;break}return s=i.value,p=ue.assetLambdaName(a.app,s.asset),e.next=16,ie({cred:c,name:p,args:{q_filter:s.filter,q_chunk:s.chunk}});case 16:return m=e.sent,e.next=19,ie({cred:c,name:r,args:{a_purr_org:h.default.purr_org,a_purr_env:h.default.purr_env,r_app:a.app,r_target:"database",r_directive:"batcher",f_asset:p,f_batcher:n,f_enqueue:r,m_label:a.label,m_job_id:a.id,m_asset:s.asset,m_purr_org:h.default.purr_org,m_purr_env:h.default.purr_env,q_chunk:m.chunk,q_counter:m.counter,q_filter:a.filter,q_selector:m.selector,q_conn:o}});case 19:e.sent;case 20:e.next=11;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(9),u.e(e.t0);case 27:return e.prev=27,u.f(),e.finish(27);case 30:se(t,!1),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(0),console.error(e.t1);case 36:case"end":return e.stop()}}),e,null,[[0,33],[9,24,27,30]])})));return function(t,a){return e.apply(this,arguments)}}(),ge=function(e){var t={app:e.toUpperCase(),repo:"",label:"",assets:[{asset:"",filter:""}]};return je(t)},je=function(e){var t={handleJobCreate:de,handleJobUpdate:be,handleJobDelete:fe,handleNotesDelete:he,handleEnqueue:ve,handleWorkerPing:Ee};return Object.assign(e,t)},xe=function(e){var t=Object(n.useState)([]),a=Object(g.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)(!0),s=Object(g.a)(u,2),p=s[0],m=s[1],d=Z().dispatch;return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,O.a.graphql(Object(k.b)("query ListJobsByApp($app: App) {\n  listJobsByApp(app: $app){\n    id\n    rk\n    app\n    assets\n    aux\n    label\n    repo\n    modified\n  }\n}",{app:t.toUpperCase()}));case 4:a=e.sent,o(me(a.data.listJobsByApp)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:m(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}})()(e.app)}),[e.app]),Object(n.useEffect)((function(){var e=O.a.graphql(Object(k.b)("subscription OnCreateJob {\n  onCreateJob{\n    id\n    rk\n    app\n    assets\n    aux\n    label\n    repo\n    modified\n  }\n}")).subscribe({next:function(e){var t=e.value.data.onCreateJob,a=me([t]),n=c.concat(a);o(n)}});return function(){return e.unsubscribe()}})),Object(n.useEffect)((function(){var e=O.a.graphql(Object(k.b)("subscription OnUpdateJob {\n  onUpdateJob{\n    id\n    rk\n    app\n    assets\n    aux\n    label\n    repo\n    modified\n  }\n}")).subscribe({next:function(e){var t=e.value.data.onUpdateJob,a=me([t])[0];if(c.map((function(e){return e.id})).includes(a.id)){var n=c.map((function(e){return e.id===a.id?a:e}));o(n)}else o((function(e){return[].concat(Object(v.a)(e),[a])}))}});return function(){return e.unsubscribe()}}),[c]),Object(n.useEffect)((function(){var e=O.a.graphql(Object(k.b)("subscription OnDeleteJob {\n  onDeleteJob{\n    id\n    rk\n  }\n}")).subscribe({next:function(e){var t=e.value.data.onDeleteJob,a=c.filter((function(e){return e.id!==t.id&&e.rk!==t.rk}));o(a)}});return function(){return e.unsubscribe()}})),Object(n.useEffect)((function(){var e=O.a.graphql(Object(k.b)(z)).subscribe({next:function(e){var t=e.value.data.onCreateNote,a=JSON.parse(t.cargo);a.action&&"set_counts"===a.action?d({id:t.id,type:"increment",batchCount:a.batch_count,itemCount:a.item_count}):a.action&&"decrement"===a.action&&d({id:t.id,type:"decrement",batchCount:1,itemCount:a.item_count})}});return function(){return e.unsubscribe()}}),[d]),p?r.a.createElement(x.a,{active:!0,size:"massive"}):r.a.createElement("div",null,c.map((function(e){return r.a.createElement(re,{key:e.id,job:e})})),r.a.createElement(_.a,null),r.a.createElement(F,{job:ge(e.app)}))};m.default.configure(h.default);var _e=function(){return r.a.createElement("h1",null,"Home stuff goes here")},Oe=function(){return r.a.createElement("h1",null,"Not a valid route: ",r.a.createElement("code",null,window.location.pathname))},ke=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.a.signOut();case 4:a=e.sent,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),we=function(e){return r.a.createElement(s.a,null,r.a.createElement(f.a,{className:"ui"},r.a.createElement(f.a.Item,{className:"item",exact:!0,as:s.b,to:"/",content:"Home"}),r.a.createElement(f.a.Item,{className:"item",as:s.b,to:"/geographix",content:"GeoGraphix"}),r.a.createElement(f.a.Item,{className:"item",as:s.b,to:"/kingdom",content:"Kingdom"}),r.a.createElement(f.a.Item,{className:"item",as:s.b,to:"/petra",content:"Petra"}),r.a.createElement(f.a.Item,{className:"item",as:s.b,to:"/config",content:"Config"}),r.a.createElement(f.a.Item,{className:"item",as:s.b,to:"signout",content:"Sign Out",onClick:ke,position:"right"})),r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",exact:!0,component:_e}),r.a.createElement(p.a,{path:"/geographix",render:function(e){return r.a.createElement(xe,Object.assign({},e,{app:"geographix"}))}}),r.a.createElement(p.a,{path:"/kingdom",render:function(e){return r.a.createElement(xe,Object.assign({},e,{app:"kingdom"}))}}),r.a.createElement(p.a,{path:"/petra",render:function(e){return r.a.createElement(xe,Object.assign({},e,{app:"petra"}))}}),r.a.createElement(p.a,{path:"/config",component:E}),r.a.createElement(p.a,{component:Oe})))},Ce=Object(b.a)((function(){return r.a.createElement(we,null)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Q,null,r.a.createElement($,null,r.a.createElement(B,null,r.a.createElement(Ce,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[485,1,2]]]);
//# sourceMappingURL=main.34d78cdf.chunk.js.map